<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <title>Расписание</title>
    <link th:href="@{/css/main.css}" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css?family=Merriweather" rel="stylesheet">
    <script type="text/javascript" src="/webjars/jquery/3.5.1/jquery.min.js"></script>
    <!--    <script type="text/javascript" th:src="@{/js/action.js}"></script>-->

    <script th:inline="javascript">
        function getRouteDetail(id) {
            var url = "/route/" + id;
            $("#routeStop").load(url);
        }
    </script>

</head>
<body>
<div class="row">
    <div class="columnRoute">
        <table>
            <tr th:if="${routesNumber.isEmpty()}">
                <td>No Routes available</td>
            </tr>
            <tr th:each="routeNumber : ${routesNumber}" class="lineTable">
                <td class="tdNumber">
                    <span th:text="${routeNumber.number}">Number</span>
                </td>
                <td class="td">
                    <table>
                        <tr th:each="route : ${routeNumber.routesDto}">
                            <td class="td">
                                <a href="#" th:onclick="|getRouteDetail(${route.routeDtoId})|">
                                    <span th:text="${route.description}">Description</span>
                                </a>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
    </div>
    <div class="columnRoute">
        <div class="divRouteLine" th:fragment="routeStop" id="routeStop">
            <div class="routeLineHead">
                <h3 th:text="${routeN}" style="text-align: center"></h3>
                <p th:text="${descN}" style="text-align: center"></p>
            </div>
            <table>
                <tr class="trRl" th:if="${routeDetail}">
                    <td class="tdRlCenter" style="width: 10%">№</td>
                    <td class="tdRlCenter" style="width: 70%">Название остановки</td>
                    <td class="tdRlCenter" style="width: 10%">Ближ.</td>
                    <td class="tdRlCenter" style="width: 10%">След.</td>
                </tr>
                <tr class="trRl" th:each="routeLine : ${routeDetail}">
                    <td class="tdRlCenter">
                        <span>[[${routeLine.stopOrder}]]</span>
                    </td>
                    <td class="tdRlLeft">
                        <span>[[${routeLine.stopDto.name}]]</span>
                    </td>
                    <td class="tdRlCenter">1</td>
                    <td class="tdRlCenter">1</td>
                </tr>
            </table>
        </div>
    </div>
    <div class="columnRoute">

    </div>
</div>
</body>
</html>